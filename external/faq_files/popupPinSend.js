var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,b={next:function(){if(d<a.length){var e=d++;return{value:c(e,a[e]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};
$jscomp.polyfill=function(a,c,d,b){if(c){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in d||(d[e]={});d=d[e]}a=a[a.length-1];b=d[a];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,c){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(b)for(var e in b)$jscomp.owns(b,e)&&(a[e]=b[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");function showPinCodeForm(){$(".mobile-number-group").slideToggle(function(){$(".pin-code-group").slideToggle();$("#pin_additional_actions").slideToggle()})}
function showMobileNumberForm(){$(".pin-code-group").slideToggle(function(){$(".mobile-number-group").slideToggle();$("#pin_additional_actions").slideToggle()})}function handlePopup(a){trackSubClickToPiwik();$("#overlay").show().click(function(){$("#overlay").unbind().hide();$(".popup-wrapper").hide();$("body").removeClass("body-noscroll")});$("body").toggleClass("body-noscroll");$(".popup-wrapper").show()}
$(document).ready(function(){var a=$("#mobile-number-input"),c=a.attr("placeholder"),d=$(a).attr("data-input-mask");c&&d&&maskMobileNumberInput(a,c,d);$(a).bind("keypress",function(a){a=a.which?a.which:a.keyCode;if(!(48<=a&&57>=a))return!1});$("#change-number-link").on("click",function(a){a.preventDefault();showMobileNumberForm()});$("#resend-sms-link").on("click",function(a){a.preventDefault();if(isResendProcessing)return!1;showModalWait();a="mobile_number="+encodeURIComponent($("#mobile-number-input").val());
var b=popUpHelper.getBotFilterData(!0);0<Object.keys(b).length&&(b=(new URLSearchParams(b)).toString(),a+="&"+b);sendSms(a,!0)});$("#send-pin-code").on("click",function(a){a.preventDefault();a=$("#mobile-number-input");var b=$("#sub-from-lp-input");var c=a.data("phone-regex")?(new RegExp(a.data("phone-regex"))).test(a.val()):a.val().length==a.attr("maxlength");c||!a.attr("maxlength")?(showModalWait(),$("#mobile-number-span").html(a.val()),window.localStorage.setItem("wifiCurrentPhoneNumber",a.val()),
c=0,0<b.length&&(c=b.val()),a="mobile_number="+encodeURIComponent(a.val())+"&subFromLp="+c,b=popUpHelper.getBotFilterData(),0<Object.keys(b).length&&(b=(new URLSearchParams(b)).toString(),a+="&"+b),sendSms(a)):(a.val(""),a.blur())});$("#verify-pin-code").on("click",function(b){b.preventDefault();b.stopPropagation();trackSubClickToPiwik();a=$("#pin-code-input");3<a.val().length?(showModalWait(),b={redirect:1,response_type:"json",mobile_number:$("#mobile-number-input").val(),location:redirectAfterIdentifyUrl},
Object.assign(b,popUpHelper.getBotFilterData(),popUpHelper.getEmpelloBotFilterData()),identify((new URLSearchParams(b)).toString(),verifyPinCodeUrl)):a.focus()})});
var popUpHelper={getEmpelloBotFilterData:function(){var a={};"empello"===$("#bot-filter-input").val()&&("undefined"!==typeof Empello?(Empello.getToken(function(c){c&&(a={empello_token:c})}),0<a.length&&(a={botFilter_error:"token_retrieving_failed"})):a={botFilter_error:"filter_not_available"});return a},getBotFilterData:function(a){a=void 0===a?!1:a;var c={};"fraud_sla"===$("#bot-filter-input").val()&&((a=getFraudSlaToken(a))?c.empello_token=a:c.botFilter_error="token_retrieving_failed");return c}};
function trackSubClickToPiwik(){$.ajax({url:"/track-subclick",type:"GET",success:function(a){console.log(a)}})};
